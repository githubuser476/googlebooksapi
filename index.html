<!-- 
File: index.html
Date: Rebecca Kennedy
Programmer: 2017.05.02
-->

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>CAS265 Google Books APIs Practice</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    </head>
    <body>
        <h1></h1>
        <img src="" id="bookThumb">
        <div></div>
        Author: <span id="authorName"></span>;
        <div></div>
        Description: <span id="bookDescription"></span>;
        <div></div>
        Page Count: <span id="pageCount"></span>;
        <div></div>
        Category: <span id="category"></span>;
        <div></div>
        Date published: <span id="publishDate"></span>;
        
        <script>
            var xhr = new XMLHttpRequest();
            xhr.open("GET", "https://www.googleapis.com/books/v1/volumes?q=isbn:0891909893", false);
            xhr.send();
            console.log(xhr.status); // if this returns 200, then you are in like Flynn
            var bookObject = JSON.parse(xhr.responseText);
            console.log(bookObject);
            
            $("title").text(bookObject.items[0].volumeInfo.title);
            $("h1").text(bookObject.items[0].volumeInfo.title);
            $("#authorName").text(bookObject.items[0].volumeInfo.authors[0]);
            $("#bookDescription").text(bookObject.items[0].volumeInfo.description);
            $("#pageCount").text(bookObject.items[0].volumeInfo.pageCount);
            $("#bookThumb").attr("src", bookObject.items[0].volumeInfo.imageLinks.thumbnail); //not done
            $("#category").text(bookObject.items[0].volumeInfo.categories);
            $("#publishDate").text(bookObject.items[0].volumeInfo.publishedDate); 
            
        </script>
    </body>
</html>